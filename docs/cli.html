---

title: papersweep


keywords: fastai
sidebar: home_sidebar

summary: "Combining papermill and wandb sweeps for fricitionless experimebnts with Jupyter notebooks"
description: "Combining papermill and wandb sweeps for fricitionless experimebnts with Jupyter notebooks"
nb_path: "00_cli.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_cli.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="papersweep_exec" class="doc_header"><code>papersweep_exec</code><a href="https://github.com/vrodriguezf/papersweep/tree/master/papersweep/cli.py#L12" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>papersweep_exec</code>(<strong><code>input_nb</code></strong>:"Input notebook", <strong><code>sweep_config</code></strong>:"YAML file with the sweep config", <strong><code>entity</code></strong>:"wandb entity", <strong><code>project</code></strong>:"wandb project", <strong><code>pm_params</code></strong>:"YAML file with papermill parameters"=<em><code>None</code></em>, <strong><code>sweep_id</code></strong>:"Sweep ID. This option omits <code>sweep_config</code>"=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">papersweep_exec</span><span class="p">(</span><span class="n">input_nb</span><span class="o">=</span><span class="s1">&#39;./_example_tsai.ipynb&#39;</span><span class="p">,</span> 
               <span class="n">sweep_config</span><span class="o">=</span><span class="s1">&#39;examples/sweep_config.yaml&#39;</span><span class="p">,</span>
               <span class="n">entity</span><span class="o">=</span><span class="s1">&#39;vrodriguezf&#39;</span><span class="p">,</span> 
               <span class="n">project</span><span class="o">=</span><span class="s1">&#39;papersweep&#39;</span><span class="p">,</span> 
               <span class="n">pm_params</span><span class="o">=</span><span class="s1">&#39;examples/run_config.yaml&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Create sweep with ID: 95ov7rwp
Sweep URL: https://wandb.ai/vrodriguezf/papersweep/sweeps/95ov7rwp
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre><span class="ansi-blue-intense-fg ansi-bold">wandb</span>: Agent Starting Run: 9lw98ouv with config:
<span class="ansi-blue-intense-fg ansi-bold">wandb</span>: 	arch: OmniScaleCNN
Run 9lw98ouv errored: ValueError(&#39;dictionary update sequence element #0 has length 1; 2 is required&#39;,)
<span class="ansi-blue-intense-fg ansi-bold">wandb</span>: <span class="ansi-green-fg ansi-red-bg">ERROR</span> Run 9lw98ouv errored: ValueError(&#39;dictionary update sequence element #0 has length 1; 2 is required&#39;,)
<span class="ansi-blue-intense-fg ansi-bold">wandb</span>: Sweep Agent: Waiting for job.
<span class="ansi-blue-intense-fg ansi-bold">wandb</span>: Job received.
<span class="ansi-blue-intense-fg ansi-bold">wandb</span>: Agent Starting Run: 22zkogsa with config:
<span class="ansi-blue-intense-fg ansi-bold">wandb</span>: 	arch: ResNet
Run 22zkogsa errored: ValueError(&#39;dictionary update sequence element #0 has length 1; 2 is required&#39;,)
<span class="ansi-blue-intense-fg ansi-bold">wandb</span>: <span class="ansi-green-fg ansi-red-bg">ERROR</span> Run 22zkogsa errored: ValueError(&#39;dictionary update sequence element #0 has length 1; 2 is required&#39;,)
<span class="ansi-blue-intense-fg ansi-bold">wandb</span>: Agent Starting Run: jbmp1mcy with config:
<span class="ansi-blue-intense-fg ansi-bold">wandb</span>: 	arch: LSTM_FCN
Run jbmp1mcy errored: ValueError(&#39;dictionary update sequence element #0 has length 1; 2 is required&#39;,)
<span class="ansi-blue-intense-fg ansi-bold">wandb</span>: <span class="ansi-green-fg ansi-red-bg">ERROR</span> Run jbmp1mcy errored: ValueError(&#39;dictionary update sequence element #0 has length 1; 2 is required&#39;,)
Detected 3 failed runs in the first 60 seconds, killing sweep.
<span class="ansi-blue-intense-fg ansi-bold">wandb</span>: <span class="ansi-green-fg ansi-red-bg">ERROR</span> Detected 3 failed runs in the first 60 seconds, killing sweep.
<span class="ansi-blue-intense-fg ansi-bold">wandb</span>: To disable this check set WANDB_AGENT_DISABLE_FLAPPING=true
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">maybe_open</span><span class="p">(</span><span class="s1">&#39;examples/run_config.yaml&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">rc</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

